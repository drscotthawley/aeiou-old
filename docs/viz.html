---

title: viz


keywords: fastai
sidebar: home_sidebar

summary: "Vizualization routines"
description: "Vizualization routines"
nb_path: "nbs/viz.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/viz.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="embeddings_table" class="doc_header"><code>embeddings_table</code><a href="https://github.com/drscotthawley/shazbot/tree/master/shazbot/viz.py#L31" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>embeddings_table</code>(<strong><code>tokens</code></strong>)</p>
</blockquote>
<p>make a table of embeddings for use with wandb</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="proj_pca" class="doc_header"><code>proj_pca</code><a href="https://github.com/drscotthawley/shazbot/tree/master/shazbot/viz.py#L48" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>proj_pca</code>(<strong><code>tokens</code></strong>, <strong><code>proj_dims</code></strong>=<em><code>3</code></em>)</p>
</blockquote>
<p>this projects via PCA, grabbing the first <em>3</em> dimensions</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="pca_point_cloud" class="doc_header"><code>pca_point_cloud</code><a href="https://github.com/drscotthawley/shazbot/tree/master/shazbot/viz.py#L60" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>pca_point_cloud</code>(<strong><code>tokens</code></strong>, <strong><code>color_scheme</code></strong>=<em><code>'batch'</code></em>)</p>
</blockquote>
<p>produces a 3D wandb point cloud of the tokens using PCA. tokens has shape (b, d, n)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="spectrogram_image" class="doc_header"><code>spectrogram_image</code><a href="https://github.com/drscotthawley/shazbot/tree/master/shazbot/viz.py#L81" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>spectrogram_image</code>(<strong><code>spec</code></strong>, <strong><code>title</code></strong>=<em><code>None</code></em>, <strong><code>ylabel</code></strong>=<em><code>'freq_bin'</code></em>, <strong><code>aspect</code></strong>=<em><code>'auto'</code></em>, <strong><code>xmax</code></strong>=<em><code>None</code></em>, <strong><code>db_range</code></strong>=<em><code>[-60, 20]</code></em>)</p>
</blockquote>
<h1 id="cf.-https://pytorch.org/tutorials/beginner/audio_feature_extractions_tutorial.html">cf. <a href="https://pytorch.org/tutorials/beginner/audio_feature_extractions_tutorial.html">https://pytorch.org/tutorials/beginner/audio_feature_extractions_tutorial.html</a><a class="anchor-link" href="#cf.-https://pytorch.org/tutorials/beginner/audio_feature_extractions_tutorial.html"> </a></h1>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="print_stats" class="doc_header"><code>print_stats</code><a href="https://github.com/drscotthawley/shazbot/tree/master/shazbot/viz.py#L100" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>print_stats</code>(<strong><code>waveform</code></strong>, <strong><code>sample_rate</code></strong>=<em><code>None</code></em>, <strong><code>src</code></strong>=<em><code>None</code></em>, <strong><code>print</code></strong>=<em><code>print</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="audio_spectrogram_image" class="doc_header"><code>audio_spectrogram_image</code><a href="https://github.com/drscotthawley/shazbot/tree/master/shazbot/viz.py#L117" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>audio_spectrogram_image</code>(<strong><code>waveform</code></strong>, <strong><code>power</code></strong>=<em><code>2.0</code></em>, <strong><code>sample_rate</code></strong>=<em><code>48000</code></em>, <strong><code>print</code></strong>=<em><code>print</code></em>, <strong><code>db_range</code></strong>=<em><code>[-60, 20]</code></em>)</p>
</blockquote>
<h1 id="cf.-https://pytorch.org/tutorials/beginner/audio_feature_extractions_tutorial.html">cf. <a href="https://pytorch.org/tutorials/beginner/audio_feature_extractions_tutorial.html">https://pytorch.org/tutorials/beginner/audio_feature_extractions_tutorial.html</a><a class="anchor-link" href="#cf.-https://pytorch.org/tutorials/beginner/audio_feature_extractions_tutorial.html"> </a></h1>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="tokens_spectrogram_image" class="doc_header"><code>tokens_spectrogram_image</code><a href="https://github.com/drscotthawley/shazbot/tree/master/shazbot/viz.py#L141" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>tokens_spectrogram_image</code>(<strong><code>tokens</code></strong>, <strong><code>aspect</code></strong>=<em><code>'auto'</code></em>, <strong><code>title</code></strong>=<em><code>'Embeddings'</code></em>, <strong><code>ylabel</code></strong>=<em><code>'index'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="plot_jukebox_embeddings" class="doc_header"><code>plot_jukebox_embeddings</code><a href="https://github.com/drscotthawley/shazbot/tree/master/shazbot/viz.py#L157" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>plot_jukebox_embeddings</code>(<strong><code>zs</code></strong>, <strong><code>aspect</code></strong>=<em><code>'auto'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>


